{% extends 'base.html.twig' %}

{% block htmlTitle %}Orders{% endblock %}
{% block pageTitle %}
    <h1 class="govuk-heading-xl">Orders</h1>
{% endblock %}

{% block content %}

    <div class="govuk-form-group">
        <form method="GET" action="{{ path(app.request.attributes.get('_route')) }}">
            <fieldset class="govuk-fieldset">
                <legend class="govuk-visually-hidden">Search</legend>
                <label for="search" class="govuk-label">Search by case number</label>
                <input type="text" id="search" name="q" value="{{  filters.q }}" class="govuk-input govuk-!-width-one-half" />
                <input type="hidden" name="type" value="{{  filters.type }}" />
                <input class="govuk-button" type="submit" value="Search" id="search_submit" />
            </fieldset>
        </form>
    </div>

    <div class="govuk-tabs" data-module="govuk-tabs">
        <h2 class="govuk-tabs__title">
            Contents
        </h2>
        <ul class="govuk-tabs__list">
            <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
                <a class="govuk-tabs__tab" href="#to-do">
                    To do
                </a>
            </li>
            <li class="govuk-tabs__list-item">
                <a class="govuk-tabs__tab" href="#served">
                    Served
                </a>
            </li>
        </ul>
        <div class="govuk-tabs__panel" id="to-do">
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-two-thirds text--center">
                    <div class="govuk-grid-column-full text--center">
                        <div class="govuk-grid-column-one-quarter text--center">
                            <div class="govuk-grid-column-one-half text--center">
                                <div class="govuk-heading-l">6526</div>
                            </div>
                            <div class="govuk-grid-column-one-half text--center">
                                <div class="govuk-heading-m">Total Court Order Backlog</div>
                            </div>
                        </div>
                    </div>

                    <div class="govuk-grid-column-one-quarter text--center">
                        <span class="govuk-caption-l govuk-!-margin-top-2" id="metric-satisfaction-total-label">
                            <a href="#" class="govuk-link">1234</a>
                        </span>
                        <span class="govuk-heading-m govuk-!-margin-bottom-4">
                            1 Jan to 31 Dec 2018
                        </span>
                    </div>

                    <div class="govuk-grid-column-one-quarter text--center">
                        <span class="govuk-caption-l govuk-!-margin-top-2" id="metric-reportsSubmitted-total-label">
                            <a href="#" class="govuk-link">678</a>
                        </span>
                        <span class="govuk-heading-m govuk-!-margin-bottom-4">
                            1 Jan to 31 Dec 2019
                        </span>
                    </div>

                    <div class="govuk-grid-column-one-quarter text--center">
                        <span class="govuk-caption-l govuk-!-margin-top-2" id="metric-reportsSubmitted-total-label">
                            <a href="#" class="govuk-link">465</a>
                        </span>
                            <span class="govuk-heading-m govuk-!-margin-bottom-4">
                            1 Jan to 31 Dec 2020
                        </span>
                    </div>

                    <div class="govuk-grid-column-one-quarter text--center">
                        <span class="govuk-caption-l govuk-!-margin-top-2" id="metric-reportsSubmitted-total-label">
                            <a href="#" class="govuk-link">112</a>
                        </span>
                        <span class="govuk-heading-m govuk-!-margin-bottom-4">
                            1 Jan to 31 Dec 2021
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="govuk-tabs__panel" id="served">
            <h2 class="govuk-heading-l">13596 Total Court Order Backlog</h2>

            <div class="govuk-grid-row">
                <div class="govuk-grid-column-full text--center">
                    <span class="govuk-caption-l govuk-!-margin-top-2" id="metric-satisfaction-total-label">
                       1234
                    </span>
                    <span class="govuk-heading-xl govuk-!-margin-bottom-4 govuk-!-font-size-80" aria-labelledby="metric-satisfaction-total-label">
                        1 Jan to 31 Dec 2018
                    </span>
                </div>
            </div>

            <div class="govuk-grid-row govuk-!-margin-bottom-9">
                <div class="govuk-grid-column-one-third text--center">
                    <span class="govuk-caption-l govuk-!-margin-top-2" id="metric-reportsSubmitted-total-label">
                        678
                    </span>
                    <span class="govuk-heading-xl govuk-!-margin-bottom-4" aria-labelledby="metric-reportsSubmitted-total-label">
                        1 Jan to 31 Dec 2019
                    </span>
                </div>
            </div>

            <div class="govuk-grid-row govuk-!-margin-bottom-9">
                <div class="govuk-grid-column-one-third text--center">
                    <span class="govuk-caption-l govuk-!-margin-top-2" id="metric-reportsSubmitted-total-label">
                        465
                    </span>
                    <span class="govuk-heading-xl govuk-!-margin-bottom-4" aria-labelledby="metric-reportsSubmitted-total-label">
                        1 Jan to 31 Dec 2020
                    </span>
                </div>
            </div>

            <div class="govuk-grid-row govuk-!-margin-bottom-9">
                <div class="govuk-grid-column-one-third text--center">
                    <span class="govuk-caption-l govuk-!-margin-top-2" id="metric-reportsSubmitted-total-label">
                        112
                    </span>
                    <span class="govuk-heading-xl govuk-!-margin-bottom-4" aria-labelledby="metric-reportsSubmitted-total-label">
                        1 Jan to 31 Dec 2021
                    </span>
                </div>
            </div>
        </div>
    </div>





{#    <div class="govuk-tabs">#}
{#        <h2 class="govuk-tabs__title">#}
{#            Contents#}
{#        </h2>#}
{#        <ul class="govuk-tabs__list">#}
{#            <li class="govuk-tabs__list-item {{ filters.type == 'pending' ? 'govuk-tabs__list-item--selected' }}" role="presentation">#}
{#                <a class="govuk-tabs__tab behat-link-pending-tab" href="{{ path('case-list', {'type': 'pending', 'q': filters.q}) }}" {% if filters.type == 'pending' %}aria-selected="true"{% endif %}>#}
{#                    To do ({{ counts.pending }})#}
{#                </a>#}
{#            </li>#}
{#            <li class="govuk-tabs__list-item {{ filters.type == 'served' ? 'govuk-tabs__list-item--selected' }}" role="presentation">#}
{#                <a class="govuk-tabs__tab behat-link- behat-link-served-tab" href="{{ path('case-list', {'type': 'served', 'q': filters.q}) }}" {% if filters.type == 'served' %}aria-selected="true"{% endif %}>#}
{#                    Served ({{ counts.served }})#}
{#                </a>#}
{#            </li>#}
{#        </ul>#}

{#        <section class="govuk-tabs__panel">#}

{#            {% if orders | length > 0 %}#}

{#                <table class="govuk-table">#}
{#                    <thead class="govuk-table__head">#}
{#                        <tr class="govuk-table__row">#}
{#                            <th class="govuk-table__header" scope="col">Case number</th>#}
{#                            <th class="govuk-table__header" scope="col">Order type</th>#}
{#                            <th class="govuk-table__header" scope="col">Order number</th>#}
{#                            <th class="govuk-table__header" scope="col">Client name</th>#}
{#                            {% if filters.type == 'pending' %}#}
{#                                <th class="govuk-table__header" scope="col">Order made</th>#}
{#                                <th class="govuk-table__header" scope="col">Order issued</th>#}
{#                                <th class="govuk-table__header" scope="col">Status</th>#}
{#                            {% else %}#}
{#                                <th class="govuk-table__header" scope="col">Date served</th>#}
{#                                <th class="govuk-table__header" scope="col">Documents</th>#}
{#                            {% endif %}#}
{#                        </tr>#}
{#                    </thead>#}
{#                    <tbody class="govuk-table__body">#}
{#                        {% for order in orders %}#}
{#                            {% set client = order.client %}#}
{#                            <tr class="govuk-table__row behat-region-order-{{ client.caseNumber }}-{{ order.type }}" >#}
{#                                <td class="govuk-table__cell">#}
{#                                    {% if order.servedAt %}#}
{#                                         {{ client.caseNumber }}#}
{#                                    {% else %}#}
{#                                        <a href="{{ path('order-summary', {'orderId': order.id}) }}" id="order-{{ client.caseNumber }}-{{ order.type }}">#}
{#                                            {{ client.caseNumber }}#}
{#                                        </a>#}
{#                                    {% endif %}#}
{#                                </td>#}
{#                                <td class="govuk-table__cell">{{ ('order.' ~ order.type) | trans }}</td>#}
{#                                <td class="govuk-table__cell">{{ order.orderNumber }}</td>#}
{#                                <td class="govuk-table__cell">{{ client.clientName }}</td>#}
{#                                {% if filters.type == 'pending' %}#}
{#                                    <td class="govuk-table__cell">#}
{#                                        {{ order.madeAt | date('j M Y') }}#}
{#                                    </td>#}
{#                                    <td class="govuk-table__cell">#}
{#                                        {{ order.issuedAt | date('j M Y') }}#}
{#                                    </td>#}
{#                                    <td class="govuk-table__cell">#}
{#                                        {% if order.readyToServe %}#}
{#                                            <strong class="govuk-tag">#}
{#                                                READY TO SERVE#}
{#                                            </strong>#}
{#                                        {% else %}#}
{#                                            <strong class="govuk-tag govuk-tag--yellow">#}
{#                                                TO DO#}
{#                                            </strong>#}
{#                                        {% endif %}#}
{#                                    </td>#}
{#                                {% else %}#}

{#                                    <td class="govuk-table__cell">#}
{#                                        {{ order.servedAt | date('d/m/Y') }}#}
{#                                    </td>#}

{#                                    <td class="govuk-table__cell">#}
{#                                        <details class="govuk-details govuk-!-margin-bottom-0" data-module="govuk-details">#}
{#                                            <summary class="govuk-details__summary">#}
{#                                                <span class="govuk-details__summary-text">{{ order.documents | length }} documents</span>#}
{#                                            </summary>#}
{#                                            <div class="govuk-details__text">#}
{#                                                {% for d in order.documents %}#}
{#                                                    {{ d.fileName }}{% if not loop.last %}<br>{% endif %}#}
{#                                                {% endfor %}#}
{#                                            </div>#}
{#                                        </details>#}
{#                                    </td>#}
{#                                {% endif %}#}
{#                            </tr>#}
{#                        {% endfor %}#}
{#                    </tbody>#}
{#                </table>#}

{#                <div class="govuk-pagination">#}
{#                    <div class="govuk-pagination__summary">Showing 1 – {{ orders | length }} of {{ counts[filters['type']] }} orders</div>#}
{#                </div>#}
{#            {% else %}#}
{#                <p class="govuk-!-font-weight-bold">No orders found</p>#}
{#            {% endif %}#}

{#        </section>#}
{#    </div>#}

{% endblock %}
